from bpe import BPE

# üîπ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
bpe = BPE(vocab_size=31)
bpe.fit(
    "–û–¥–Ω–∞–∂–¥—ã –±—ã–ª —Å–ª—É—á–∞–π –≤ –¥–∞–ª—ë–∫–æ–º –ú–∞–∫–∞–æ: –º–∞–∫–∞–∫–∞ –∫–æ–∞–ª—É –≤ –∫–∞–∫–∞–æ –º–∞–∫–∞–ª–∞, –∫–æ–∞–ª–∞ –ª–µ–Ω–∏–≤–æ –∫–∞–∫–∞–æ –ª–∞–∫–∞–ª–∞, –º–∞–∫–∞–∫–∞ –º–∞–∫–∞–ª–∞, –∫–æ–∞–ª–∞ –∏–∫–∞–ª–∞."
)
encoded = bpe.encode(
    "–û–¥–Ω–∞–∂–¥—ã –±—ã–ª —Å–ª—É—á–∞–π –≤ –¥–∞–ª—ë–∫–æ–º –ú–∞–∫–∞–æ: –º–∞–∫–∞–∫–∞ –∫–æ–∞–ª—É –≤ –∫–∞–∫–∞–æ –º–∞–∫–∞–ª–∞, –∫–æ–∞–ª–∞ –ª–µ–Ω–∏–≤–æ –∫–∞–∫–∞–æ –ª–∞–∫–∞–ª–∞, –º–∞–∫–∞–∫–∞ –º–∞–∫–∞–ª–∞, –∫–æ–∞–ª–∞ –∏–∫–∞–ª–∞."
)
print(encoded)

print(bpe.decode(encoded))

bpe.save("data/bpe.dill")
bpe2 = BPE.load("data/bpe.dill")

print(bpe2.tokens)
